var rp=require("request-promise"),Promise=require("bluebird"),xml2js=require("xml2js"),parser=new xml2js.Parser;module.exports=function(e){function t(){a=this}var a,r={headlines:"https://feeds.finance.yahoo.com/rss/2.0/headline?s=",quote:"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20in%20(%22",historicalData:"http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.historicaldata%20where%20symbol%20=%20%22"};return t.prototype={getHeadlines:function(t){var a=r.headlines+t+"&region=US&lang=en-US";return new Promise(function(t,r){e(a).then(function(e){parser.parseString(e,function(e,a){e?r(e):t(a.rss.channel)})}).catch(r)})},getQuote:function(t){var a=r.quote+t+"%22)&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=";return new Promise(function(t,r){e(a,{json:!0}).then(t).catch(r)})},getHistoricalData:function(t,a,n){var o=r.historicalData+t+"%22%20and%20startDate%20=%20%22"+a+"%22%20and%20endDate%20=%20%22"+n+"%22&diagnostics=true&env=store://datatables.org/alltableswithkeys";return new Promise(function(t,a){e(o,{json:!0}).then(t).catch(a)})}},t}(rp);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInlhaG9vLmZpbmFuY2UuanMiXSwibmFtZXMiOlsicnAiLCJyZXF1aXJlIiwiUHJvbWlzZSIsInhtbDJqcyIsInBhcnNlciIsIlBhcnNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJyIiwiWWFob29GaW5hbmNlQVBJIiwic2VsZiIsInRoaXMiLCJlbmRwb2ludHMiLCJoZWFkbGluZXMiLCJxdW90ZSIsImhpc3RvcmljYWxEYXRhIiwicHJvdG90eXBlIiwiZ2V0SGVhZGxpbmVzIiwidGlja2VyIiwidXJsIiwicmVzb2x2ZSIsInJlamVjdCIsInRoZW4iLCJ4bWwiLCJwYXJzZVN0cmluZyIsImVyciIsImpzIiwicnNzIiwiY2hhbm5lbCIsImNhdGNoIiwiZ2V0UXVvdGUiLCJqc29uIiwiZ2V0SGlzdG9yaWNhbERhdGEiLCJzdGFydCIsImVuZCJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsSUFBS0MsUUFBUSxtQkFDYkMsUUFBVUQsUUFBUSxZQUNsQkUsT0FBU0YsUUFBUSxVQUNqQkcsT0FBUyxHQUFJRCxRQUFPRSxNQUV4QkMsUUFBT0MsUUFBVSxTQUFVQyxHQVN6QixRQUFTQyxLQUNQQyxFQUFPQyxLQVRULEdBQUlELEdBRUFFLEdBQ0ZDLFVBQVcsc0RBQ1hDLE1BQU8sb0hBQ1BDLGVBQWdCLHlIQXlDbEIsT0FsQ0FOLEdBQWdCTyxXQUNkQyxhQUFjLFNBQVNDLEdBQ3JCLEdBQUlDLEdBQU1QLEVBQVVDLFVBQVlLLEVBQVMsdUJBQ3pDLE9BQU8sSUFBSWhCLFNBQVEsU0FBU2tCLEVBQVNDLEdBQ25DYixFQUFFVyxHQUNDRyxLQUFLLFNBQVNDLEdBQ2JuQixPQUFPb0IsWUFBWUQsRUFBSyxTQUFTRSxFQUFLQyxHQUNqQ0QsRUFBS0osRUFBT0ksR0FDVkwsRUFBUU0sRUFBR0MsSUFBSUMsYUFHdkJDLE1BQU1SLE1BSWJTLFNBQVUsU0FBU1osR0FDakIsR0FBSUMsR0FBTVAsRUFBVUUsTUFBUUksRUFBUyxpRkFDckMsT0FBTyxJQUFJaEIsU0FBUSxTQUFTa0IsRUFBU0MsR0FDbkNiLEVBQUVXLEdBQU1ZLE1BQU0sSUFDWFQsS0FBS0YsR0FDTFMsTUFBTVIsTUFJYlcsa0JBQW1CLFNBQVNkLEVBQVFlLEVBQU9DLEdBQ3pDLEdBQUlmLEdBQU1QLEVBQVVHLGVBQWlCRyxFQUFTLGtDQUFvQ2UsRUFBUSxnQ0FBa0NDLEVBQU0sbUVBQ2xJLE9BQU8sSUFBSWhDLFNBQVEsU0FBU2tCLEVBQVNDLEdBQ25DYixFQUFFVyxHQUFNWSxNQUFNLElBQ1hULEtBQUtGLEdBQ0xTLE1BQU1SLE9BS1JaLEdBQ05UIiwiZmlsZSI6InlhaG9vLmZpbmFuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcnAgPSByZXF1aXJlKCdyZXF1ZXN0LXByb21pc2UnKTtcbnZhciBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbnZhciB4bWwyanMgPSByZXF1aXJlKCd4bWwyanMnKTtcbnZhciBwYXJzZXIgPSBuZXcgeG1sMmpzLlBhcnNlcigpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbihyKSB7XG4gIHZhciBzZWxmO1xuXG4gIHZhciBlbmRwb2ludHMgPSB7XG4gICAgaGVhZGxpbmVzOiAnaHR0cHM6Ly9mZWVkcy5maW5hbmNlLnlhaG9vLmNvbS9yc3MvMi4wL2hlYWRsaW5lP3M9JyxcbiAgICBxdW90ZTogJ2h0dHBzOi8vcXVlcnkueWFob29hcGlzLmNvbS92MS9wdWJsaWMveXFsP3E9c2VsZWN0JTIwKiUyMGZyb20lMjB5YWhvby5maW5hbmNlLnF1b3RlcyUyMHdoZXJlJTIwc3ltYm9sJTIwaW4lMjAoJTIyJyxcbiAgICBoaXN0b3JpY2FsRGF0YTogJ2h0dHA6Ly9xdWVyeS55YWhvb2FwaXMuY29tL3YxL3B1YmxpYy95cWw/cT1zZWxlY3QlMjAqJTIwZnJvbSUyMHlhaG9vLmZpbmFuY2UuaGlzdG9yaWNhbGRhdGElMjB3aGVyZSUyMHN5bWJvbCUyMD0lMjAlMjInXG4gIH1cblxuICBmdW5jdGlvbiBZYWhvb0ZpbmFuY2VBUEkoKSB7XG4gICAgc2VsZiA9IHRoaXM7XG4gIH1cblxuICBZYWhvb0ZpbmFuY2VBUEkucHJvdG90eXBlID0ge1xuICAgIGdldEhlYWRsaW5lczogZnVuY3Rpb24odGlja2VyKSB7XG4gICAgICB2YXIgdXJsID0gZW5kcG9pbnRzLmhlYWRsaW5lcyArIHRpY2tlciArICcmcmVnaW9uPVVTJmxhbmc9ZW4tVVMnO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByKHVybClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbih4bWwpIHtcbiAgICAgICAgICAgIHBhcnNlci5wYXJzZVN0cmluZyh4bWwsIGZ1bmN0aW9uKGVyciwganMpIHtcbiAgICAgICAgICAgICAgaWYoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgZWxzZSByZXNvbHZlKGpzLnJzcy5jaGFubmVsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRRdW90ZTogZnVuY3Rpb24odGlja2VyKSB7XG4gICAgICB2YXIgdXJsID0gZW5kcG9pbnRzLnF1b3RlICsgdGlja2VyICsgJyUyMikmZm9ybWF0PWpzb24mZW52PXN0b3JlJTNBJTJGJTJGZGF0YXRhYmxlcy5vcmclMkZhbGx0YWJsZXN3aXRoa2V5cyZjYWxsYmFjaz0nO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByKHVybCwge2pzb246IHRydWV9KVxuICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0SGlzdG9yaWNhbERhdGE6IGZ1bmN0aW9uKHRpY2tlciwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIHVybCA9IGVuZHBvaW50cy5oaXN0b3JpY2FsRGF0YSArIHRpY2tlciArICclMjIlMjBhbmQlMjBzdGFydERhdGUlMjA9JTIwJTIyJyArIHN0YXJ0ICsgJyUyMiUyMGFuZCUyMGVuZERhdGUlMjA9JTIwJTIyJyArIGVuZCArICclMjImZGlhZ25vc3RpY3M9dHJ1ZSZlbnY9c3RvcmU6Ly9kYXRhdGFibGVzLm9yZy9hbGx0YWJsZXN3aXRoa2V5cyc7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHIodXJsLCB7anNvbjogdHJ1ZX0pXG4gICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gWWFob29GaW5hbmNlQVBJO1xufSkocnApO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
